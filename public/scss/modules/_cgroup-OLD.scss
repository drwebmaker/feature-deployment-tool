$cgroup-spacing-external: $global-spacing-unit;
$cgroup-spacing-internal: $global-spacing-unit / 4;

$cgroup-control-padding-v: $global-spacing-unit / 4;
$cgroup-control-padding-h: $global-spacing-unit / 2;
$cgroup-control-border-radius: $global-border-radius;
$cgroup-control-border-width: 1px;

// setting height directly is necessary for FF
$cgroup-element-height: $global-spacing-unit + 2*$cgroup-control-padding-v + 2*$cgroup-control-border-width;

.cgroup {
  display: block;

  & + & {
    margin-top: $cgroup-spacing-external;
  }
}
  .cgroup--summary {
    padding-top: $cgroup-spacing-external;
    text-align: right;
    border-top: $cgroup-control-border-width solid #ccc; // @TODO
  }
  .cgroup--with-icon {

  }

.cgroup__label {
  display: block;
  margin-bottom: $cgroup-spacing-internal;
}
  .cgroup__label--inline {
    text-align: right;
    margin-bottom: 0;
    height: $cgroup-element-height;
    padding: $cgroup-control-padding-v 0;
  }

.cgroup__control {
  display: block;
  padding: $cgroup-control-padding-v $cgroup-control-padding-h;
  height: $cgroup-element-height;
  border: $cgroup-control-border-width solid darken($color-bg, 15%);
  border-radius: $cgroup-control-border-radius;
}
  .cgroup__control--with-suffix {
    border-top-right-radius: 0 !important;
    border-bottom-right-radius: 0 !important;
  }
  .cgroup__control--with-prefix {
    border-top-left-radius: 0 !important;
    border-bottom-left-radius: 0 !important;
  }
  .cgroup__control--full {
    width: 100%;
  }
  .cgroup__control--error {
    border-color: red; // @TODO
  }
  .cgroup__control--search {
    border-radius: 10*$global-spacing-unit;
    padding-left: 1.5*$global-spacing-unit;

    background-image: url('data:image/svg+xml;charset=US-ASCII,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22utf-8%22%3F%3E%3C!DOCTYPE%20svg%20PUBLIC%20%22-%2F%2FW3C%2F%2FDTD%20SVG%201.1%2F%2FEN%22%20%22http%3A%2F%2Fwww.w3.org%2FGraphics%2FSVG%2F1.1%2FDTD%2Fsvg11.dtd%22%3E%3Csvg%20version%3D%221.1%22%20id%3D%22Layer_1%22%20xmlns%3Asketch%3D%22http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%2Fns%22%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20x%3D%220px%22%20y%3D%220px%22%20width%3D%2220px%22%20height%3D%2220px%22%20%20viewBox%3D%220%200%2020%2020%22%20enable-background%3D%22new%200%200%2020%2020%22%20xml%3Aspace%3D%22preserve%22%3E%3Ctitle%3Emarketplace%201%3C%2Ftitle%3E%3Cdescription%3ECreated%20with%20Sketch%20(http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch)%3C%2Fdescription%3E%3Cg%3E%20%3Cpath%20fill%3D%22%23C4C4C4%22%20d%3D%22M9%2C2C5.134%2C2%2C2%2C5.134%2C2%2C9s3.134%2C7%2C7%2C7s7-3.134%2C7-7S12.866%2C2%2C9%2C2z%20M9%2C14c-2.761%2C0-5-2.238-5-5%20%20c0-2.761%2C2.239-5%2C5-5c2.762%2C0%2C5%2C2.239%2C5%2C5C14%2C11.762%2C11.762%2C14%2C9%2C14z%22%2F%3E%20%3Cpath%20fill%3D%22%23C4C4C4%22%20d%3D%22M17.393%2C15.479l-1.858-1.858c-0.388%2C0.547-0.843%2C1.043-1.353%2C1.478l1.797%2C1.797%20%20c0.39%2C0.389%2C1.019%2C0.39%2C1.41-0.004C17.779%2C16.498%2C17.781%2C15.867%2C17.393%2C15.479z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E');
    background-position: $global-spacing-unit/2 center;
    background-repeat: no-repeat;
  }

%cgroup-decoration {
  height: $cgroup-element-height;
  padding: $cgroup-control-padding-v $cgroup-control-padding-h;
  min-width: 2*$global-spacing-unit;

  text-align: center;

  border: $cgroup-control-border-width solid #ccc; // @TODO
  border-radius: $cgroup-control-border-radius;
}

.cgroup__suffix {
  @extend %cgroup-decoration;

  border-left: none;
  border-bottom-left-radius: 0 !important;
  border-top-left-radius: 0 !important;
}

.cgroup__prefix {
  @extend %cgroup-decoration;

  border-right: none;
  border-bottom-right-radius: 0 !important;
  border-top-right-radius: 0 !important;
}

.cgroup__error {
  margin-top: $cgroup-spacing-internal;
  color: red; // @TODO
}